<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="dietfacts_product_template_tree_view" model="ir.ui.view">
            <field name="inherit_id" ref="product.product_template_tree_view"/>
            <field name="model">product.template</field>
            <field name="arch" type="xml">
                <field name="categ_id" position="before">
                    <field name="calories"/>
                    <field name="servingsize"/>
                </field>
            </field>
        </record>
        <record id="dietfacts_product_template_only_form_view" model="ir.ui.view">
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="model">product.template</field>
            <field name="arch" type="xml">
                <field name="standard_price" position="after">
                    <group attrs="{'invisible': [('categ_id','!=',3)]}">
                        <field name="calories"/>
                        <field name="servingsize"/>
                        <field name="nutrition_score"/>
                        <field name="lastupdated"/>
                    </group>
                </field>
                <field name="standard_price" position="attributes">
                    <attribute name="t-if">calories &gt; 700</attribute>
                    <field name="testcampo"/>
                </field>
                <notebook>
                    <page attrs="{'invisible': [('categ_id','!=',3)]}"
                        name="Nutrient" string="Nutrients">
                        <field name="meal_nutrient_ids" widget="One2many_list">
                            <tree editable="bottom" string="Nutri">
                                <field name="nutrient_id"/>
                                <field name="value"/>
                                <field name="unityofmeasure"/>
                                <field name="dailypercentage"/>
                            </tree>
                        </field>
                    </page>
                </notebook>
            </field>
        </record>
        
        <record id="action_views_dietfacts_sessions_new" model="ir.actions.act_window">
            <field name="name">Dietfacts</field>
            <field name="res_model">product.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <field name="domain">[('categ_id.name','=','Diet Item')]</field>
            <field name="context">{'default_categ_id':1}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Clique para adicionar um novo dietfact
                </p>
                <p>
                    Informacoes nutricionais
                </p>
            </field>
        </record>
        <record id="action_views_dietfacts_sessions_nutrient" model="ir.actions.act_window">
            <field name="name">Nutrients</field>
            <field name="res_model">product.nutrient</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Clique para adicionar um novo Nutriente
                </p>
                <p>
                    Informacoes nutricionais
                </p>
            </field>
        </record>
        <menuitem id="menu_dietfacts_root" name="Dietfacts"/>
        <menuitem id="menu_dietfacts_root_sessions"
            name="Dietfacts menu" parent="menu_dietfacts_root"/>
        <menuitem action="action_views_dietfacts_sessions_new"
            id="menu_action_views_dietfacte_sessions_new" parent="menu_dietfacts_root_sessions"/>
        <menuitem action="action_views_dietfacts_sessions_nutrient"
            id="menu_action_views_dietfacte_sessions_nutrient" parent="menu_dietfacts_root_sessions"/>
        <record id="dietfacts_meal_form_view" model="ir.ui.view">
            <field name="model">res.users.meal</field>
            <field name="view_type">form</field>
            <field name="arch" type="xml">
                <form>
                    <group>
                        <field name="name"/>
                        <field name="meal_date"/>
                        <field name="user_id"/>
                        <field name="notes"/>
                        <field name="totalcalories"/>
                        <field name="largemeal"/>
                        <!--field name="totalitems"/-->
                    </group>
                    <notebook>
                        <page name="mealitems" string="Meal Items">
                            <field name="item_ids" widget="One2many_list">
                                <tree editable="bottom" string="Meal Items">
                                    <field name="item_id"/>
                                    <field name="calories" sum="Total Meal Calories"/>
                                    <field name="servings" sum="Total served"/>
                                    <field name="notes"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                    <!--notebook>
                        <page name="nutrients" string="Nutrients">
                            <field name="meal_nutrient_ids" widget="One2many_list">
                                <tree editable="bottom" string="nutrients">
                                    <field name="name"/>
                                    <field name="uom_id"/>
                                </tree>
                            </field>
                        </page>
                    </notebook-->
                </form>
            </field>
        </record>
        <record id="meal_action_dietfacts" model="ir.actions.act_window">
            <field name="name">Meals</field>
            <field name="res_model">res.users.meal</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Define a new Meal
                </p>
            </field>
        </record>
        <menuitem action="meal_action_dietfacts"
            id="menu_meal_action_dietfacts" parent="menu_dietfacts_root_sessions"/>
        <record id="dietfacts_meal_tree_view" model="ir.ui.view">
            <field name="model">res.users.meal</field>
            <field name="view_type">tree</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="meal_date"/>
                    <field name="user_id"/>
                    <field name="notes"/>
                    <field name="totalcalories"/>
                    <field name="totalitems"/>
                </tree>
            </field>
        </record>
        <record id="meal_action_dietfacts" model="ir.actions.act_window">
            <field name="name">Meals</field>
            <field name="res_model">res.users.meal</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,pivot</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Define a new Meal
                </p>
            </field>
        </record>
        
        <!--Form view customizado para teste -->
        
        <record id="dietfacts_test_form_view" model="ir.ui.view">
            <field name="model">dietfacts.test</field>
            <field name="view_type">form</field>
            <field name="priority">1</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <h1>Titulo do Form</h1>
                        <field class="oe_highlight" clickable="True"
                            name="state" widget="statusbar"/>
                        <separator string="Novo titulo"/>
                    </header>
                    <sheet>
                        <group>
                            <h1>
                                <field name="name" placeholder="Nome do teste"/>
                            </h1>
                            <h1>
                                <field name="passwordteste" password="1"/>
                            </h1>
                        </group>
                        <separator/>
                        <group>
                            <field name="idtest"/>
                            <field domain="[('name','!=','Marcos')]"
                                help="Adiciona um usuario de teste!"
                                name="user_id" required="True"/>
                            <field name="data_do_teste"/>
                            <field filename="name" name="arquivo"/>
                            <field name="products_ids"
                                options="{'no_create': True}" widget="many2many_tags"/>
                            <field name="nutri_ids" widget="many2many_checkboxes"/>
                        </group>
                        <separator colspan="2"/>
                        <div class="oe_button_box oe_right" name="button_box">
                            <button class="oe_highlight oe_left" name="test_function_two" type="object" string="Clique"/>
                            <separator colspan="2"/>
                            <button class="oe_highlight oe_left"
                                icon="fa-ticket" name="test_function"
                                string="Dobre o ID" type="object"/>
                        </div>
                        <notebook string="NotebookTest">
                            <page accesskey="B" string="Dados1">
                                <group col="4" string="Titulo do grupo!">
                                  
                                    <field colspan="4"
                                    groups="openacademy.group_oa_manager"
                                    name="sequence" string="sequence"/>
                                    <!--newline/-->
                                    <p>Teste de newline</p>
                                    <p>Mais um teste</p>
                                    <p>terceiro teste</p>
                                    <newline/>
                                    <p>Ultimo teste</p>
                                </group>
                            </page>
                            <page string="Dados2">
                                <group>
                                    <field name="num_vezes" string="Numero de vezes"/>
                                    <field name="evento_teste" />
                                </group>
                            </page>
                            <page
                                attrs="{'invisible': [('idtest','>',290)]}" string="Dados3">
                                <group>
                                    <p>ESTA EH UMA PAGE TESTE!</p>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
        
        
        <!--Tree view customizado para teste -->
        
        
        <record id="dietfacts_test_tree_view" model="ir.ui.view">
            <field name="model">dietfacts.test</field>
            <field name="view_type">tree</field>
            <field name="priority">1</field>
            <field name="arch" type="xml">
                <tree decoration-danger="idtest > 150" default_order="name asc">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field attrs="{'invisible': [('idtest','>',250)]}" name="idtest"/>
                    <field name="products_ids" widget="radio" />
                    <field name="num_vezes" widget="progressbar"/>
                    <field name="data_do_teste"/>
                    <field groups="openacademy.group_oa_manager" name="state"/>
                    <!--button string="clique" type="object" icon="fa-refresh text-primary" name="test_function" /-->
                    <!--button string="clique" type="action" icon="fa-refresh text-primary" name="%(meal_action_dietfacts)d" /-->
                    <button attrs="{'invisible': [('idtest','>',250)]}"
                        confirm="Tem certeza que deseja fazer isso?"
                        icon="fa-refresh text-primary"
                        name="test_function" type="object"/>
                    <button name="%(meal_action_dietfacts)d"
                        states="ativo" string="Another button" type="action"/>
                </tree>
            </field>
        </record>
        
        <!--Graph view customizado para teste -->
        
        
        <record id="dietfacts_test_graph_view" model="ir.ui.view">
            <field name="model">dietfacts.test</field>
            <field name="view_type">graph</field>
            <field name="priority">1</field>
            <field name="arch" type="xml">
                <graph stacked="True" type="bar">
                    <field name="idtest" type="measure"/>
                    <field name="name" type="row"/>
                    <field name="num_vezes" type="measure"/>
                    <field interval="month" name="data_do_teste" type="col"/>
                </graph>
            </field>
        </record>
        
        <!--Pivot view customizado para teste -->
        
        <record id="dietfacts_test_pivot_view" model="ir.ui.view">
            <field name="model">dietfacts.test</field>
            <field name="view_type">pivot</field>
            <field name="priority">1</field>
            <field name="arch" type="xml">
                <pivot disable_linking="True" string="Pivot de Testes">
                    <field name="idtest" type="measure"/>
                    <field name="name" type="row"/>
                    <field name="num_vezes" type="measure"/>
                    <field interval="month" name="data_do_teste" type="col"/>
                </pivot>
            </field>
        </record>
        
        
        <!--Calendar view customizado para teste -->
        
        <record id="dietfacts_test_events_calendar_view" model="ir.ui.view">
            <field name="model">dietfacts.test.events</field>
            <field name="view_type">calendar</field>
            <field name="arch" type="xml">
                <calendar string="Calendario de testes" color="name" 
                event_open_popup="True" date_start="data_evento_inicio"
                quick_add="True" all_day="all_day_event" mode="month" >
                    
                    <field name="name"/>
                    
                    <field name="test_id" />
                    
                </calendar>
            </field>
        </record>
        <!--Form view dos eventos customizados para teste -->
        
         <record id="dietfacts_test_events_form_view" model="ir.ui.view">
            <field name="model">dietfacts.test.events</field>
            <field name="view_type">form</field>
            <field name="priority">1</field>
            <field name="arch" type="xml">
                <form>
                   <group>
                    <field name="name" />
                    <field name="data_evento_inicio" />
                    <field name="data_evento_fim" />
                    <field name="all_day_event" />
                       
                   </group> 
                    
                </form>
                               
            </field>
        </record>
        
        <!--Kanban view customizado para teste -->
        
        <record id="dietfacts_test_kanban_view" model="ir.ui.view">
            <field name="model">dietfacts.test</field>
            <field name="name">Kanban Diet Test</field>
            <field name="arch" type="xml">
                <kanban class="oe_background_grey"
                    default_group_by="data_do_teste"
                    default_order="name asc" quick_create="true">
                    <field name="name"/>
                    <field name="idtest"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div>
                            
                                <h1>
                                    <t t-esc="record.name.value"/>
                                </h1>
                                <h3>
                                    <t t-esc="record.idtest.value"/>
                                </h3>
                                <p>
                                    <strong>-----------------------------------------</strong>
                                </p>
                                <p>Data do teste: <field name="data_do_teste"/>
                                </p>
                                
                                <button class="oe_stat_button"
                                    icon="fa-dollar"
                                    name="kanban_test_function" type="object"/>
                                
                                <button icon="fa-dollar" string="Edit" type="edit"/>
                                <button icon="fa-calendar-o" string="Edit" type="delete"/>
                                    
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>
        
        <record id="test_action_dietfacts" model="ir.actions.act_window">
            <field name="name">Teste</field>
            <field name="res_model">dietfacts.test</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,kanban,form,pivot,graph</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Define a new Test
                </p>
            </field>
        </record>
        <menuitem action="test_action_dietfacts"
            id="menu_test_action_dietfacts" parent="menu_dietfacts_root_sessions"/>
            
            
        <record id="test_events_action_dietfacts" model="ir.actions.act_window">
            <field name="name">Teste_Calendar</field>
            <field name="res_model">dietfacts.test.events</field>
            <field name="view_type">form</field>
            <field name="view_mode">calendar,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Define a new Test
                </p>
            </field>
        </record>
        
        <menuitem action="test_events_action_dietfacts"
            id="menu_test_events_action_dietfacts" parent="menu_dietfacts_root_sessions"/>    
            
    </data>
</odoo>
